var _t=Object.defineProperty;var mt=(e,t,n)=>t in e?_t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nt=(e,t,n)=>(mt(e,typeof t!="symbol"?t+"":t,n),n);import{s as F,n as U,r as ft,b as B,f as gt,h as j,o as pt}from"../chunks/scheduler.682ccc96.js";import{S as G,i as J,g as y,s as z,h as P,j as I,x as O,c as S,f as T,k as f,a as D,y as c,z as Y,A as H,B as W,m as A,n as L,o as X,C as N,r as K,u as Q,D as vt,v as Z,d as $,t as x,w as tt,E as bt,F as wt}from"../chunks/index.fb1a2585.js";function ot(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const yt=!0,Ft=Object.freeze(Object.defineProperty({__proto__:null,prerender:yt},Symbol.toStringTag,{value:"Module"}));class Pt{constructor(t){nt(this,"endpoint","api/points");nt(this,"apiUrl");this.apiUrl=t}async getCollisions(){try{return await(await fetch(`${this.apiUrl}${this.endpoint}`)).json()}catch{return null}}async addPoint(t,n){const i=new URLSearchParams({x:t.x.toString(),y:t.y.toString(),radius:n.toString()});try{return await(await fetch(`${this.apiUrl}${this.endpoint}?${i}`,{method:"POST"})).json()}catch{return null}}}function Tt(e){let t,n,i,l="X:",a,s,o,u,d,r="Y:",p,h,g,E;return{c(){t=y("div"),n=y("div"),i=y("label"),i.textContent=l,a=z(),s=y("input"),o=z(),u=y("div"),d=y("label"),d.textContent=r,p=z(),h=y("input"),this.h()},l(v){t=P(v,"DIV",{class:!0});var k=I(t);n=P(k,"DIV",{});var _=I(n);i=P(_,"LABEL",{for:!0,"data-svelte-h":!0}),O(i)!=="svelte-1i4ahf4"&&(i.textContent=l),a=S(_),s=P(_,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),_.forEach(T),o=S(k),u=P(k,"DIV",{});var b=I(u);d=P(b,"LABEL",{for:!0,"data-svelte-h":!0}),O(d)!=="svelte-j23swm"&&(d.textContent=r),p=S(b),h=P(b,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),b.forEach(T),k.forEach(T),this.h()},h(){f(i,"for","x"),f(s,"id","x"),f(s,"type","number"),f(s,"min",e[1]),f(s,"max",e[2]),f(s,"class","svelte-cazf2q"),f(d,"for","y"),f(h,"id","y"),f(h,"type","number"),f(h,"min",e[3]),f(h,"max",e[4]),f(h,"class","svelte-cazf2q"),f(t,"class","wrapper svelte-cazf2q")},m(v,k){D(v,t,k),c(t,n),c(n,i),c(n,a),c(n,s),Y(s,e[0].x),c(t,o),c(t,u),c(u,d),c(u,p),c(u,h),Y(h,e[0].y),g||(E=[H(s,"input",e[5]),H(h,"input",e[6])],g=!0)},p(v,[k]){k&2&&f(s,"min",v[1]),k&4&&f(s,"max",v[2]),k&1&&W(s.value)!==v[0].x&&Y(s,v[0].x),k&8&&f(h,"min",v[3]),k&16&&f(h,"max",v[4]),k&1&&W(h.value)!==v[0].y&&Y(h,v[0].y)},i:U,o:U,d(v){v&&T(t),g=!1,ft(E)}}}function kt(e,t,n){let{point:i}=t,{minX:l}=t,{maxX:a}=t,{minY:s}=t,{maxY:o}=t;function u(){i.x=W(this.value),n(0,i)}function d(){i.y=W(this.value),n(0,i)}return e.$$set=r=>{"point"in r&&n(0,i=r.point),"minX"in r&&n(1,l=r.minX),"maxX"in r&&n(2,a=r.maxX),"minY"in r&&n(3,s=r.minY),"maxY"in r&&n(4,o=r.maxY)},[i,l,a,s,o,u,d]}class Ct extends G{constructor(t){super(),J(this,t,kt,Tt,F,{point:0,minX:1,maxX:2,minY:3,maxY:4})}}function Et(e){let t,n,i="Radius:",l,a,s,o,u,d,r;return{c(){t=y("div"),n=y("p"),n.textContent=i,l=z(),a=y("label"),s=A(e[0]),o=z(),u=y("input"),this.h()},l(p){t=P(p,"DIV",{});var h=I(t);n=P(h,"P",{"data-svelte-h":!0}),O(n)!=="svelte-9yl71g"&&(n.textContent=i),l=S(h),a=P(h,"LABEL",{for:!0});var g=I(a);s=L(g,e[0]),g.forEach(T),o=S(h),u=P(h,"INPUT",{id:!0,type:!0,min:!0,max:!0}),h.forEach(T),this.h()},h(){f(a,"for","radius"),f(u,"id","radius"),f(u,"type","range"),f(u,"min","1"),f(u,"max","5")},m(p,h){D(p,t,h),c(t,n),c(t,l),c(t,a),c(a,s),c(t,o),c(t,u),Y(u,e[0]),d||(r=[H(u,"change",e[1]),H(u,"input",e[1])],d=!0)},p(p,[h]){h&1&&X(s,p[0]),h&1&&Y(u,p[0])},i:U,o:U,d(p){p&&T(t),d=!1,ft(r)}}}function It(e,t,n){let{radius:i}=t;function l(){i=W(this.value),n(0,i)}return e.$$set=a=>{"radius"in a&&n(0,i=a.radius)},[i,l]}class zt extends G{constructor(t){super(),J(this,t,It,Et,F,{radius:0})}}function St(e){let t,n,i,l,a,s,o,u,d,r,p,h;function g(_){e[5](_)}let E={};e[1]!==void 0&&(E.radius=e[1]),o=new zt({props:E}),B.push(()=>N(o,"radius",g));function v(_){e[6](_)}let k={minX:-10,maxX:10,minY:-10,maxY:10};return e[0]!==void 0&&(k.point=e[0]),r=new Ct({props:k}),B.push(()=>N(r,"point",v)),{c(){t=y("div"),n=y("div"),i=y("canvas"),a=z(),s=y("div"),K(o.$$.fragment),d=z(),K(r.$$.fragment),this.h()},l(_){t=P(_,"DIV",{class:!0});var b=I(t);n=P(b,"DIV",{class:!0});var R=I(n);i=P(R,"CANVAS",{id:!0,width:!0,height:!0}),I(i).forEach(T),R.forEach(T),a=S(b),s=P(b,"DIV",{class:!0});var M=I(s);Q(o.$$.fragment,M),d=S(M),Q(r.$$.fragment,M),M.forEach(T),b.forEach(T),this.h()},h(){f(i,"id","canvas"),f(i,"width",e[2]),f(i,"height",e[3]),f(n,"class","canvas svelte-8o24w7"),gt(()=>e[4].call(n)),f(s,"class","inputs svelte-8o24w7"),f(t,"class","wrapper svelte-8o24w7")},m(_,b){D(_,t,b),c(t,n),c(n,i),l=vt(n,e[4].bind(n)),c(t,a),c(t,s),Z(o,s,null),c(s,d),Z(r,s,null),h=!0},p(_,[b]){(!h||b&4)&&f(i,"width",_[2]),(!h||b&8)&&f(i,"height",_[3]);const R={};!u&&b&2&&(u=!0,R.radius=_[1],j(()=>u=!1)),o.$set(R);const M={};!p&&b&1&&(p=!0,M.point=_[0],j(()=>p=!1)),r.$set(M)},i(_){h||($(o.$$.fragment,_),$(r.$$.fragment,_),h=!0)},o(_){x(o.$$.fragment,_),x(r.$$.fragment,_),h=!1},d(_){_&&T(t),l(),tt(o),tt(r)}}}const q=20;function et(e){return{x:e.width/2,y:e.height/2}}function rt(e,t){try{const n=document.getElementById("canvas"),i=n.getContext("2d");if(!i)return;Mt(i,n),Rt(i,n),qt(i,n,e),Dt(i,n,t)}catch{}}function Mt(e,t){e.clearRect(0,0,t.width,t.height)}function Rt(e,t){e.beginPath(),e.moveTo(5,t.height/2),e.lineTo(t.width-5,t.height/2),e.strokeStyle="black",e.stroke(),e.beginPath(),e.moveTo(t.width/2,5),e.lineTo(t.width/2,t.height-5),e.strokeStyle="black",e.stroke();const i=Math.floor((t.width-5)/q);for(let a=-i;a<i;a++){const s=t.width/2+a*q;e.beginPath(),e.moveTo(s,t.height/2-5),e.lineTo(s,t.height/2+5),e.strokeStyle="black",e.stroke()}const l=Math.floor((t.height-5)/q);for(let a=-l;a<l;a++){const s=t.height/2+a*q;e.beginPath(),e.moveTo(t.width/2-5,s),e.lineTo(t.width/2+5,s),e.strokeStyle="black",e.stroke()}ut(e,t.width-5,t.height/2,Math.PI),ut(e,t.width/2,5,Math.PI/2)}function ut(e,t,n,i){e.beginPath(),e.moveTo(t,n);const l=10;e.lineTo(t+l*Math.cos(i-Math.PI/6),n+l*Math.sin(i-Math.PI/6)),e.lineTo(t+l*Math.cos(i+Math.PI/6),n+l*Math.sin(i+Math.PI/6)),e.lineTo(t,n),e.fillStyle="black",e.fill()}function qt(e,t,n){const i=n*q,l=et(t),a="rgba(128, 128, 128, 0.5)";e.fillStyle=a,e.beginPath(),e.arc(l.x,l.y,i,0,Math.PI*2),e.fill(),e.fillStyle=a,e.fillRect(l.x,l.y-2*i,2*i,2*i),e.fillStyle=a,e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(l.x,l.y+2*i),e.lineTo(l.x-2*i,l.y),e.closePath(),e.fill()}function Dt(e,t,n){const i="red";e.fillStyle=i;const a=At(n,t);e.fillRect(a.x-10/2,a.y-10/2,10,10)}function At(e,t){const n=et(t);return{x:e.x*q+n.x,y:-e.y*q+n.y}}function Lt(e,t){const n=et(t);return{x:(e.x-n.x)/q,y:-(e.y-n.y)/q}}function Xt(e,t,n){let{point:i={x:0,y:0}}=t,{radius:l=1}=t,a,s;pt(()=>{const r=document.getElementById("canvas");n(0,i=Lt(et(r),r)),rt(l,i)});function o(){s=this.clientHeight,a=this.clientWidth,n(3,s),n(2,a)}function u(r){l=r,n(1,l)}function d(r){i=r,n(0,i)}return e.$$set=r=>{"point"in r&&n(0,i=r.point),"radius"in r&&n(1,l=r.radius)},e.$$.update=()=>{e.$$.dirty&3&&rt(l,i)},[i,l,a,s,o,u,d]}class Yt extends G{constructor(t){super(),J(this,t,Xt,St,F,{point:0,radius:1})}}function dt(e,t,n){const i=e.slice();return i[1]=t[n],i}function ht(e){let t,n,i=e[1].point.x+"",l,a,s,o=e[1].point.y+"",u,d,r,p=e[1].collied+"",h,g,E,v=e[1].graphRadius+"",k,_,b,R=ct(e[1].checkedAt)+"",M,w;return{c(){t=y("tr"),n=y("td"),l=A(i),a=z(),s=y("td"),u=A(o),d=z(),r=y("td"),h=A(p),g=z(),E=y("td"),k=A(v),_=z(),b=y("td"),M=A(R),w=z(),this.h()},l(C){t=P(C,"TR",{class:!0});var m=I(t);n=P(m,"TD",{class:!0});var V=I(n);l=L(V,i),V.forEach(T),a=S(m),s=P(m,"TD",{class:!0});var it=I(s);u=L(it,o),it.forEach(T),d=S(m),r=P(m,"TD",{class:!0});var st=I(r);h=L(st,p),st.forEach(T),g=S(m),E=P(m,"TD",{class:!0});var lt=I(E);k=L(lt,v),lt.forEach(T),_=S(m),b=P(m,"TD",{class:!0});var at=I(b);M=L(at,R),at.forEach(T),w=S(m),m.forEach(T),this.h()},h(){f(n,"class","svelte-1wqiz8k"),f(s,"class","svelte-1wqiz8k"),f(r,"class","svelte-1wqiz8k"),f(E,"class","svelte-1wqiz8k"),f(b,"class","svelte-1wqiz8k"),f(t,"class","row")},m(C,m){D(C,t,m),c(t,n),c(n,l),c(t,a),c(t,s),c(s,u),c(t,d),c(t,r),c(r,h),c(t,g),c(t,E),c(E,k),c(t,_),c(t,b),c(b,M),c(t,w)},p(C,m){m&1&&i!==(i=C[1].point.x+"")&&X(l,i),m&1&&o!==(o=C[1].point.y+"")&&X(u,o),m&1&&p!==(p=C[1].collied+"")&&X(h,p),m&1&&v!==(v=C[1].graphRadius+"")&&X(k,v),m&1&&R!==(R=ct(C[1].checkedAt)+"")&&X(M,R)},d(C){C&&T(t)}}}function Ut(e){let t,n,i='<th class="svelte-1wqiz8k">X</th> <th class="svelte-1wqiz8k">Y</th> <th class="svelte-1wqiz8k">Collied</th> <th class="svelte-1wqiz8k">Radius</th> <th class="svelte-1wqiz8k">Time</th>',l,a=ot(e[0]),s=[];for(let o=0;o<a.length;o+=1)s[o]=ht(dt(e,a,o));return{c(){t=y("table"),n=y("tr"),n.innerHTML=i,l=z();for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){t=P(o,"TABLE",{class:!0});var u=I(t);n=P(u,"TR",{"data-svelte-h":!0}),O(n)!=="svelte-3tzoyf"&&(n.innerHTML=i),l=S(u);for(let d=0;d<s.length;d+=1)s[d].l(u);u.forEach(T),this.h()},h(){f(t,"class","results svelte-1wqiz8k")},m(o,u){D(o,t,u),c(t,n),c(t,l);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null)},p(o,[u]){if(u&1){a=ot(o[0]);let d;for(d=0;d<a.length;d+=1){const r=dt(o,a,d);s[d]?s[d].p(r,u):(s[d]=ht(r),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}},i:U,o:U,d(o){o&&T(t),bt(s,o)}}}function ct(e){const[t,n]=e.split("T");return`${t} ${n.slice(0,8)} UTC`}function Vt(e,t,n){let{collisions:i=[]}=t;return e.$$set=l=>{"collisions"in l&&n(0,i=l.collisions)},[i]}class Bt extends G{constructor(t){super(),J(this,t,Vt,Ut,F,{collisions:0})}}function jt(e){let t,n,i,l,a,s,o,u,d="Click Me",r,p,h,g,E,v;function k(w){e[4](w)}function _(w){e[5](w)}let b={};e[1]!==void 0&&(b.point=e[1]),e[2]!==void 0&&(b.radius=e[2]),l=new Yt({props:b}),B.push(()=>N(l,"point",k)),B.push(()=>N(l,"radius",_));function R(w){e[7](w)}let M={};return e[0]!==void 0&&(M.collisions=e[0]),p=new Bt({props:M}),B.push(()=>N(p,"collisions",R)),{c(){t=y("meta"),n=z(),i=y("div"),K(l.$$.fragment),o=z(),u=y("button"),u.textContent=d,r=z(),K(p.$$.fragment),this.h()},l(w){const C=wt("svelte-1lnb9z",document.head);t=P(C,"META",{name:!0,content:!0}),C.forEach(T),n=S(w),i=P(w,"DIV",{class:!0});var m=I(i);Q(l.$$.fragment,m),o=S(m),u=P(m,"BUTTON",{"data-svelte-h":!0}),O(u)!=="svelte-l25a0i"&&(u.textContent=d),r=S(m),Q(p.$$.fragment,m),m.forEach(T),this.h()},h(){document.title="Web Lab 1",f(t,"name","description"),f(t,"content","Web Lab 1"),f(i,"class","wrapper svelte-138mt5c")},m(w,C){c(document.head,t),D(w,n,C),D(w,i,C),Z(l,i,null),c(i,o),c(i,u),c(i,r),Z(p,i,null),g=!0,E||(v=H(u,"click",e[6]),E=!0)},p(w,[C]){const m={};!a&&C&2&&(a=!0,m.point=w[1],j(()=>a=!1)),!s&&C&4&&(s=!0,m.radius=w[2],j(()=>s=!1)),l.$set(m);const V={};!h&&C&1&&(h=!0,V.collisions=w[0],j(()=>h=!1)),p.$set(V)},i(w){g||($(l.$$.fragment,w),$(p.$$.fragment,w),g=!0)},o(w){x(l.$$.fragment,w),x(p.$$.fragment,w),g=!1},d(w){w&&(T(n),T(i)),T(t),tt(l),tt(p),E=!1,v()}}}function Nt(e,t,n){const i=new Pt("");let l,a,s;async function o(g,E){const v=await i.addPoint(g,E);v&&n(0,l=[v,...l])}async function u(){const g=await i.getCollisions();n(0,l=g||[])}pt(u);function d(g){a=g,n(1,a)}function r(g){s=g,n(2,s)}const p=async()=>await o(a,s);function h(g){l=g,n(0,l)}return[l,a,s,o,d,r,p,h]}class Gt extends G{constructor(t){super(),J(this,t,Nt,jt,F,{})}}export{Gt as component,Ft as universal};
