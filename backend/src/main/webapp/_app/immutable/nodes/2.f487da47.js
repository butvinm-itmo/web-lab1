var _t=Object.defineProperty;var mt=(e,t,n)=>t in e?_t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nt=(e,t,n)=>(mt(e,typeof t!="symbol"?t+"":t,n),n);import{s as F,n as U,r as ft,b as B,f as gt,h as j,o as pt}from"../chunks/scheduler.682ccc96.js";import{S as G,i as J,g as b,s as z,m as A,h as w,j as I,x as O,c as S,n as L,f as y,k as f,a as D,y as c,z as Y,A as H,o as X,B as W,C as N,r as K,u as Q,D as vt,v as Z,d as $,t as x,w as tt,E as bt,F as wt}from"../chunks/index.fb1a2585.js";function rt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const yt=!0,Ft=Object.freeze(Object.defineProperty({__proto__:null,prerender:yt},Symbol.toStringTag,{value:"Module"}));class Pt{constructor(t){nt(this,"endpoint","api/points");nt(this,"apiUrl");this.apiUrl=t}async getCollisions(){try{return await(await fetch(`${this.apiUrl}${this.endpoint}`)).json()}catch{return null}}async addPoint(t,n){const i=new URLSearchParams({x:t.x.toString(),y:t.y.toString(),radius:n.toString()});try{return await(await fetch(`${this.apiUrl}${this.endpoint}?${i}`,{method:"POST"})).json()}catch{return null}}}function Tt(e){let t,n,i="Radius:",l,a,s,r,d,h,o;return{c(){t=b("div"),n=b("p"),n.textContent=i,l=z(),a=b("label"),s=A(e[0]),r=z(),d=b("input"),this.h()},l(p){t=w(p,"DIV",{});var u=I(t);n=w(u,"P",{"data-svelte-h":!0}),O(n)!=="svelte-9yl71g"&&(n.textContent=i),l=S(u),a=w(u,"LABEL",{for:!0});var C=I(a);s=L(C,e[0]),C.forEach(y),r=S(u),d=w(u,"INPUT",{id:!0,type:!0,min:!0,max:!0}),u.forEach(y),this.h()},h(){f(a,"for","radius"),f(d,"id","radius"),f(d,"type","range"),f(d,"min","1"),f(d,"max","10")},m(p,u){D(p,t,u),c(t,n),c(t,l),c(t,a),c(a,s),c(t,r),c(t,d),Y(d,e[0]),h||(o=[H(d,"change",e[1]),H(d,"input",e[1])],h=!0)},p(p,[u]){u&1&&X(s,p[0]),u&1&&Y(d,p[0])},i:U,o:U,d(p){p&&y(t),h=!1,ft(o)}}}function kt(e,t,n){let{radius:i}=t;function l(){i=W(this.value),n(0,i)}return e.$$set=a=>{"radius"in a&&n(0,i=a.radius)},[i,l]}class Ct extends G{constructor(t){super(),J(this,t,kt,Tt,F,{radius:0})}}function Et(e){let t,n,i,l="X:",a,s,r,d,h,o="Y:",p,u,C,E;return{c(){t=b("div"),n=b("div"),i=b("label"),i.textContent=l,a=z(),s=b("input"),r=z(),d=b("div"),h=b("label"),h.textContent=o,p=z(),u=b("input"),this.h()},l(P){t=w(P,"DIV",{class:!0});var T=I(t);n=w(T,"DIV",{});var _=I(n);i=w(_,"LABEL",{for:!0,"data-svelte-h":!0}),O(i)!=="svelte-1i4ahf4"&&(i.textContent=l),a=S(_),s=w(_,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),_.forEach(y),r=S(T),d=w(T,"DIV",{});var g=I(d);h=w(g,"LABEL",{for:!0,"data-svelte-h":!0}),O(h)!=="svelte-j23swm"&&(h.textContent=o),p=S(g),u=w(g,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),g.forEach(y),T.forEach(y),this.h()},h(){f(i,"for","x"),f(s,"id","x"),f(s,"type","number"),f(s,"min",e[1]),f(s,"max",e[2]),f(s,"class","svelte-cazf2q"),f(h,"for","y"),f(u,"id","y"),f(u,"type","number"),f(u,"min",e[3]),f(u,"max",e[4]),f(u,"class","svelte-cazf2q"),f(t,"class","wrapper svelte-cazf2q")},m(P,T){D(P,t,T),c(t,n),c(n,i),c(n,a),c(n,s),Y(s,e[0].x),c(t,r),c(t,d),c(d,h),c(d,p),c(d,u),Y(u,e[0].y),C||(E=[H(s,"input",e[5]),H(u,"input",e[6])],C=!0)},p(P,[T]){T&2&&f(s,"min",P[1]),T&4&&f(s,"max",P[2]),T&1&&W(s.value)!==P[0].x&&Y(s,P[0].x),T&8&&f(u,"min",P[3]),T&16&&f(u,"max",P[4]),T&1&&W(u.value)!==P[0].y&&Y(u,P[0].y)},i:U,o:U,d(P){P&&y(t),C=!1,ft(E)}}}function It(e,t,n){let{point:i}=t,{minX:l}=t,{maxX:a}=t,{minY:s}=t,{maxY:r}=t;function d(){i.x=W(this.value),n(0,i)}function h(){i.y=W(this.value),n(0,i)}return e.$$set=o=>{"point"in o&&n(0,i=o.point),"minX"in o&&n(1,l=o.minX),"maxX"in o&&n(2,a=o.maxX),"minY"in o&&n(3,s=o.minY),"maxY"in o&&n(4,r=o.maxY)},[i,l,a,s,r,d,h]}class zt extends G{constructor(t){super(),J(this,t,It,Et,F,{point:0,minX:1,maxX:2,minY:3,maxY:4})}}function St(e){let t,n,i,l,a,s,r,d,h,o,p,u;function C(_){e[5](_)}let E={};e[1]!==void 0&&(E.radius=e[1]),r=new Ct({props:E}),B.push(()=>N(r,"radius",C));function P(_){e[6](_)}let T={minX:-10,maxX:10,minY:-10,maxY:10};return e[0]!==void 0&&(T.point=e[0]),o=new zt({props:T}),B.push(()=>N(o,"point",P)),{c(){t=b("div"),n=b("div"),i=b("canvas"),a=z(),s=b("div"),K(r.$$.fragment),h=z(),K(o.$$.fragment),this.h()},l(_){t=w(_,"DIV",{class:!0});var g=I(t);n=w(g,"DIV",{class:!0});var R=I(n);i=w(R,"CANVAS",{id:!0,width:!0,height:!0}),I(i).forEach(y),R.forEach(y),a=S(g),s=w(g,"DIV",{class:!0});var M=I(s);Q(r.$$.fragment,M),h=S(M),Q(o.$$.fragment,M),M.forEach(y),g.forEach(y),this.h()},h(){f(i,"id","canvas"),f(i,"width",e[2]),f(i,"height",e[3]),f(n,"class","canvas svelte-frc1uw"),gt(()=>e[4].call(n)),f(s,"class","inputs svelte-frc1uw"),f(t,"class","wrapper svelte-frc1uw")},m(_,g){D(_,t,g),c(t,n),c(n,i),l=vt(n,e[4].bind(n)),c(t,a),c(t,s),Z(r,s,null),c(s,h),Z(o,s,null),u=!0},p(_,[g]){(!u||g&4)&&f(i,"width",_[2]),(!u||g&8)&&f(i,"height",_[3]);const R={};!d&&g&2&&(d=!0,R.radius=_[1],j(()=>d=!1)),r.$set(R);const M={};!p&&g&1&&(p=!0,M.point=_[0],j(()=>p=!1)),o.$set(M)},i(_){u||($(r.$$.fragment,_),$(o.$$.fragment,_),u=!0)},o(_){x(r.$$.fragment,_),x(o.$$.fragment,_),u=!1},d(_){_&&y(t),l(),tt(r),tt(o)}}}const q=20;function et(e){return{x:e.width/2,y:e.height/2}}function ot(e,t){try{const n=document.getElementById("canvas"),i=n.getContext("2d");if(!i)return;Mt(i,n),Rt(i,n),qt(i,n,e),Dt(i,n,t)}catch{}}function Mt(e,t){e.clearRect(0,0,t.width,t.height)}function Rt(e,t){e.beginPath(),e.moveTo(5,t.height/2),e.lineTo(t.width-5,t.height/2),e.strokeStyle="black",e.stroke(),e.beginPath(),e.moveTo(t.width/2,5),e.lineTo(t.width/2,t.height-5),e.strokeStyle="black",e.stroke();const i=Math.floor((t.width-5)/q);for(let a=-i;a<i;a++){const s=t.width/2+a*q;e.beginPath(),e.moveTo(s,t.height/2-5),e.lineTo(s,t.height/2+5),e.strokeStyle="black",e.stroke()}const l=Math.floor((t.height-5)/q);for(let a=-l;a<l;a++){const s=t.height/2+a*q;e.beginPath(),e.moveTo(t.width/2-5,s),e.lineTo(t.width/2+5,s),e.strokeStyle="black",e.stroke()}ut(e,t.width-5,t.height/2,Math.PI),ut(e,t.width/2,5,Math.PI/2)}function ut(e,t,n,i){e.beginPath(),e.moveTo(t,n);const l=10;e.lineTo(t+l*Math.cos(i-Math.PI/6),n+l*Math.sin(i-Math.PI/6)),e.lineTo(t+l*Math.cos(i+Math.PI/6),n+l*Math.sin(i+Math.PI/6)),e.lineTo(t,n),e.fillStyle="black",e.fill()}function qt(e,t,n){const i=n*q,l=et(t),a="rgba(128, 128, 128, 0.5)";e.fillStyle=a,e.beginPath(),e.arc(l.x,l.y,i,0,Math.PI*2),e.fill(),e.fillStyle=a,e.fillRect(l.x,l.y-2*i,2*i,2*i),e.fillStyle=a,e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(l.x,l.y+2*i),e.lineTo(l.x-2*i,l.y),e.closePath(),e.fill()}function Dt(e,t,n){const i="red";e.fillStyle=i;const a=At(n,t);e.fillRect(a.x-10/2,a.y-10/2,10,10)}function At(e,t){const n=et(t);return{x:e.x*q+n.x,y:-e.y*q+n.y}}function Lt(e,t){const n=et(t);return{x:(e.x-n.x)/q,y:-(e.y-n.y)/q}}function Xt(e,t,n){let{point:i={x:0,y:0}}=t,{radius:l=1}=t,a,s;pt(()=>{const o=document.getElementById("canvas");n(0,i=Lt(et(o),o)),ot(l,i)});function r(){s=this.clientHeight,a=this.clientWidth,n(3,s),n(2,a)}function d(o){l=o,n(1,l)}function h(o){i=o,n(0,i)}return e.$$set=o=>{"point"in o&&n(0,i=o.point),"radius"in o&&n(1,l=o.radius)},e.$$.update=()=>{e.$$.dirty&3&&ot(l,i)},[i,l,a,s,r,d,h]}class Yt extends G{constructor(t){super(),J(this,t,Xt,St,F,{point:0,radius:1})}}function dt(e,t,n){const i=e.slice();return i[1]=t[n],i}function ht(e){let t,n,i=e[1].point.x+"",l,a,s,r=e[1].point.y+"",d,h,o,p=e[1].collied+"",u,C,E,P=e[1].graphRadius+"",T,_,g,R=ct(e[1].checkedAt)+"",M,v;return{c(){t=b("tr"),n=b("td"),l=A(i),a=z(),s=b("td"),d=A(r),h=z(),o=b("td"),u=A(p),C=z(),E=b("td"),T=A(P),_=z(),g=b("td"),M=A(R),v=z(),this.h()},l(k){t=w(k,"TR",{class:!0});var m=I(t);n=w(m,"TD",{class:!0});var V=I(n);l=L(V,i),V.forEach(y),a=S(m),s=w(m,"TD",{class:!0});var it=I(s);d=L(it,r),it.forEach(y),h=S(m),o=w(m,"TD",{class:!0});var st=I(o);u=L(st,p),st.forEach(y),C=S(m),E=w(m,"TD",{class:!0});var lt=I(E);T=L(lt,P),lt.forEach(y),_=S(m),g=w(m,"TD",{class:!0});var at=I(g);M=L(at,R),at.forEach(y),v=S(m),m.forEach(y),this.h()},h(){f(n,"class","svelte-1wqiz8k"),f(s,"class","svelte-1wqiz8k"),f(o,"class","svelte-1wqiz8k"),f(E,"class","svelte-1wqiz8k"),f(g,"class","svelte-1wqiz8k"),f(t,"class","row")},m(k,m){D(k,t,m),c(t,n),c(n,l),c(t,a),c(t,s),c(s,d),c(t,h),c(t,o),c(o,u),c(t,C),c(t,E),c(E,T),c(t,_),c(t,g),c(g,M),c(t,v)},p(k,m){m&1&&i!==(i=k[1].point.x+"")&&X(l,i),m&1&&r!==(r=k[1].point.y+"")&&X(d,r),m&1&&p!==(p=k[1].collied+"")&&X(u,p),m&1&&P!==(P=k[1].graphRadius+"")&&X(T,P),m&1&&R!==(R=ct(k[1].checkedAt)+"")&&X(M,R)},d(k){k&&y(t)}}}function Ut(e){let t,n,i='<th class="svelte-1wqiz8k">X</th> <th class="svelte-1wqiz8k">Y</th> <th class="svelte-1wqiz8k">Collied</th> <th class="svelte-1wqiz8k">Radius</th> <th class="svelte-1wqiz8k">Time</th>',l,a=rt(e[0]),s=[];for(let r=0;r<a.length;r+=1)s[r]=ht(dt(e,a,r));return{c(){t=b("table"),n=b("tr"),n.innerHTML=i,l=z();for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){t=w(r,"TABLE",{class:!0});var d=I(t);n=w(d,"TR",{"data-svelte-h":!0}),O(n)!=="svelte-3tzoyf"&&(n.innerHTML=i),l=S(d);for(let h=0;h<s.length;h+=1)s[h].l(d);d.forEach(y),this.h()},h(){f(t,"class","results svelte-1wqiz8k")},m(r,d){D(r,t,d),c(t,n),c(t,l);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(t,null)},p(r,[d]){if(d&1){a=rt(r[0]);let h;for(h=0;h<a.length;h+=1){const o=dt(r,a,h);s[h]?s[h].p(o,d):(s[h]=ht(o),s[h].c(),s[h].m(t,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=a.length}},i:U,o:U,d(r){r&&y(t),bt(s,r)}}}function ct(e){const[t,n]=e.split("T");return`${t} ${n.slice(0,8)} UTC`}function Vt(e,t,n){let{collisions:i=[]}=t;return e.$$set=l=>{"collisions"in l&&n(0,i=l.collisions)},[i]}class Bt extends G{constructor(t){super(),J(this,t,Vt,Ut,F,{collisions:0})}}function jt(e){let t,n,i,l,a,s,r,d,h="Click Me",o,p,u,C,E,P;function T(v){e[4](v)}function _(v){e[5](v)}let g={};e[1]!==void 0&&(g.point=e[1]),e[2]!==void 0&&(g.radius=e[2]),l=new Yt({props:g}),B.push(()=>N(l,"point",T)),B.push(()=>N(l,"radius",_));function R(v){e[7](v)}let M={};return e[0]!==void 0&&(M.collisions=e[0]),p=new Bt({props:M}),B.push(()=>N(p,"collisions",R)),{c(){t=b("meta"),n=z(),i=b("div"),K(l.$$.fragment),r=z(),d=b("button"),d.textContent=h,o=z(),K(p.$$.fragment),this.h()},l(v){const k=wt("svelte-1lnb9z",document.head);t=w(k,"META",{name:!0,content:!0}),k.forEach(y),n=S(v),i=w(v,"DIV",{class:!0});var m=I(i);Q(l.$$.fragment,m),r=S(m),d=w(m,"BUTTON",{"data-svelte-h":!0}),O(d)!=="svelte-l25a0i"&&(d.textContent=h),o=S(m),Q(p.$$.fragment,m),m.forEach(y),this.h()},h(){document.title="Web Lab 1",f(t,"name","description"),f(t,"content","Web Lab 1"),f(i,"class","wrapper svelte-138mt5c")},m(v,k){c(document.head,t),D(v,n,k),D(v,i,k),Z(l,i,null),c(i,r),c(i,d),c(i,o),Z(p,i,null),C=!0,E||(P=H(d,"click",e[6]),E=!0)},p(v,[k]){const m={};!a&&k&2&&(a=!0,m.point=v[1],j(()=>a=!1)),!s&&k&4&&(s=!0,m.radius=v[2],j(()=>s=!1)),l.$set(m);const V={};!u&&k&1&&(u=!0,V.collisions=v[0],j(()=>u=!1)),p.$set(V)},i(v){C||($(l.$$.fragment,v),$(p.$$.fragment,v),C=!0)},o(v){x(l.$$.fragment,v),x(p.$$.fragment,v),C=!1},d(v){v&&(y(n),y(i)),y(t),tt(l),tt(p),E=!1,P()}}}function Nt(e,t,n){const i=new Pt("");let l,a,s;async function r(u,C){const E=await i.addPoint(u,C);return console.log(E),E}pt(async()=>{const u=await i.getCollisions();n(0,l=u||[])});function d(u){a=u,n(1,a)}function h(u){s=u,n(2,s)}const o=async()=>await r(a,s);function p(u){l=u,n(0,l)}return[l,a,s,r,d,h,o,p]}class Gt extends G{constructor(t){super(),J(this,t,Nt,jt,F,{})}}export{Gt as component,Ft as universal};
