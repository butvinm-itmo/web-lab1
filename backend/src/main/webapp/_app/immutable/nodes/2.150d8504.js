var _t=Object.defineProperty;var mt=(e,t,i)=>t in e?_t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var it=(e,t,i)=>(mt(e,typeof t!="symbol"?t+"":t,i),i);import{s as F,n as U,r as ft,b as B,f as gt,h as j,o as pt}from"../chunks/scheduler.682ccc96.js";import{S as G,i as J,g as y,s as z,m as A,h as P,j as I,x as O,c as S,n as L,f as T,k as f,a as D,y as c,z as Y,A as H,o as X,B as W,C as N,r as K,u as Q,D as vt,v as Z,d as $,t as x,w as tt,E as bt,F as wt}from"../chunks/index.fb1a2585.js";function rt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const yt=!0,Ft=Object.freeze(Object.defineProperty({__proto__:null,prerender:yt},Symbol.toStringTag,{value:"Module"}));class Pt{constructor(t){it(this,"endpoint","api/points");it(this,"apiUrl");this.apiUrl=t}async getCollisions(){try{return await(await fetch(`${this.apiUrl}${this.endpoint}`)).json()}catch{return null}}async addPoint(t,i){const n=new URLSearchParams({x:t.x.toString(),y:t.y.toString(),radius:i.toString()});try{return await(await fetch(`${this.apiUrl}${this.endpoint}?${n}`,{method:"POST"})).json()}catch{return null}}}function Tt(e){let t,i,n="Radius:",l,a,s,r,u,d,o;return{c(){t=y("div"),i=y("p"),i.textContent=n,l=z(),a=y("label"),s=A(e[0]),r=z(),u=y("input"),this.h()},l(p){t=P(p,"DIV",{});var h=I(t);i=P(h,"P",{"data-svelte-h":!0}),O(i)!=="svelte-9yl71g"&&(i.textContent=n),l=S(h),a=P(h,"LABEL",{for:!0});var g=I(a);s=L(g,e[0]),g.forEach(T),r=S(h),u=P(h,"INPUT",{id:!0,type:!0,min:!0,max:!0}),h.forEach(T),this.h()},h(){f(a,"for","radius"),f(u,"id","radius"),f(u,"type","range"),f(u,"min","1"),f(u,"max","10")},m(p,h){D(p,t,h),c(t,i),c(t,l),c(t,a),c(a,s),c(t,r),c(t,u),Y(u,e[0]),d||(o=[H(u,"change",e[1]),H(u,"input",e[1])],d=!0)},p(p,[h]){h&1&&X(s,p[0]),h&1&&Y(u,p[0])},i:U,o:U,d(p){p&&T(t),d=!1,ft(o)}}}function kt(e,t,i){let{radius:n}=t;function l(){n=W(this.value),i(0,n)}return e.$$set=a=>{"radius"in a&&i(0,n=a.radius)},[n,l]}class Ct extends G{constructor(t){super(),J(this,t,kt,Tt,F,{radius:0})}}function Et(e){let t,i,n,l="X:",a,s,r,u,d,o="Y:",p,h,g,E;return{c(){t=y("div"),i=y("div"),n=y("label"),n.textContent=l,a=z(),s=y("input"),r=z(),u=y("div"),d=y("label"),d.textContent=o,p=z(),h=y("input"),this.h()},l(v){t=P(v,"DIV",{class:!0});var k=I(t);i=P(k,"DIV",{});var _=I(i);n=P(_,"LABEL",{for:!0,"data-svelte-h":!0}),O(n)!=="svelte-1i4ahf4"&&(n.textContent=l),a=S(_),s=P(_,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),_.forEach(T),r=S(k),u=P(k,"DIV",{});var b=I(u);d=P(b,"LABEL",{for:!0,"data-svelte-h":!0}),O(d)!=="svelte-j23swm"&&(d.textContent=o),p=S(b),h=P(b,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),b.forEach(T),k.forEach(T),this.h()},h(){f(n,"for","x"),f(s,"id","x"),f(s,"type","number"),f(s,"min",e[1]),f(s,"max",e[2]),f(s,"class","svelte-cazf2q"),f(d,"for","y"),f(h,"id","y"),f(h,"type","number"),f(h,"min",e[3]),f(h,"max",e[4]),f(h,"class","svelte-cazf2q"),f(t,"class","wrapper svelte-cazf2q")},m(v,k){D(v,t,k),c(t,i),c(i,n),c(i,a),c(i,s),Y(s,e[0].x),c(t,r),c(t,u),c(u,d),c(u,p),c(u,h),Y(h,e[0].y),g||(E=[H(s,"input",e[5]),H(h,"input",e[6])],g=!0)},p(v,[k]){k&2&&f(s,"min",v[1]),k&4&&f(s,"max",v[2]),k&1&&W(s.value)!==v[0].x&&Y(s,v[0].x),k&8&&f(h,"min",v[3]),k&16&&f(h,"max",v[4]),k&1&&W(h.value)!==v[0].y&&Y(h,v[0].y)},i:U,o:U,d(v){v&&T(t),g=!1,ft(E)}}}function It(e,t,i){let{point:n}=t,{minX:l}=t,{maxX:a}=t,{minY:s}=t,{maxY:r}=t;function u(){n.x=W(this.value),i(0,n)}function d(){n.y=W(this.value),i(0,n)}return e.$$set=o=>{"point"in o&&i(0,n=o.point),"minX"in o&&i(1,l=o.minX),"maxX"in o&&i(2,a=o.maxX),"minY"in o&&i(3,s=o.minY),"maxY"in o&&i(4,r=o.maxY)},[n,l,a,s,r,u,d]}class zt extends G{constructor(t){super(),J(this,t,It,Et,F,{point:0,minX:1,maxX:2,minY:3,maxY:4})}}function St(e){let t,i,n,l,a,s,r,u,d,o,p,h;function g(_){e[5](_)}let E={};e[1]!==void 0&&(E.radius=e[1]),r=new Ct({props:E}),B.push(()=>N(r,"radius",g));function v(_){e[6](_)}let k={minX:-10,maxX:10,minY:-10,maxY:10};return e[0]!==void 0&&(k.point=e[0]),o=new zt({props:k}),B.push(()=>N(o,"point",v)),{c(){t=y("div"),i=y("div"),n=y("canvas"),a=z(),s=y("div"),K(r.$$.fragment),d=z(),K(o.$$.fragment),this.h()},l(_){t=P(_,"DIV",{class:!0});var b=I(t);i=P(b,"DIV",{class:!0});var R=I(i);n=P(R,"CANVAS",{id:!0,width:!0,height:!0}),I(n).forEach(T),R.forEach(T),a=S(b),s=P(b,"DIV",{class:!0});var M=I(s);Q(r.$$.fragment,M),d=S(M),Q(o.$$.fragment,M),M.forEach(T),b.forEach(T),this.h()},h(){f(n,"id","canvas"),f(n,"width",e[2]),f(n,"height",e[3]),f(i,"class","canvas svelte-frc1uw"),gt(()=>e[4].call(i)),f(s,"class","inputs svelte-frc1uw"),f(t,"class","wrapper svelte-frc1uw")},m(_,b){D(_,t,b),c(t,i),c(i,n),l=vt(i,e[4].bind(i)),c(t,a),c(t,s),Z(r,s,null),c(s,d),Z(o,s,null),h=!0},p(_,[b]){(!h||b&4)&&f(n,"width",_[2]),(!h||b&8)&&f(n,"height",_[3]);const R={};!u&&b&2&&(u=!0,R.radius=_[1],j(()=>u=!1)),r.$set(R);const M={};!p&&b&1&&(p=!0,M.point=_[0],j(()=>p=!1)),o.$set(M)},i(_){h||($(r.$$.fragment,_),$(o.$$.fragment,_),h=!0)},o(_){x(r.$$.fragment,_),x(o.$$.fragment,_),h=!1},d(_){_&&T(t),l(),tt(r),tt(o)}}}const q=20;function et(e){return{x:e.width/2,y:e.height/2}}function ot(e,t){try{const i=document.getElementById("canvas"),n=i.getContext("2d");if(!n)return;Mt(n,i),Rt(n,i),qt(n,i,e),Dt(n,i,t)}catch{}}function Mt(e,t){e.clearRect(0,0,t.width,t.height)}function Rt(e,t){e.beginPath(),e.moveTo(5,t.height/2),e.lineTo(t.width-5,t.height/2),e.strokeStyle="black",e.stroke(),e.beginPath(),e.moveTo(t.width/2,5),e.lineTo(t.width/2,t.height-5),e.strokeStyle="black",e.stroke();const n=Math.floor((t.width-5)/q);for(let a=-n;a<n;a++){const s=t.width/2+a*q;e.beginPath(),e.moveTo(s,t.height/2-5),e.lineTo(s,t.height/2+5),e.strokeStyle="black",e.stroke()}const l=Math.floor((t.height-5)/q);for(let a=-l;a<l;a++){const s=t.height/2+a*q;e.beginPath(),e.moveTo(t.width/2-5,s),e.lineTo(t.width/2+5,s),e.strokeStyle="black",e.stroke()}ut(e,t.width-5,t.height/2,Math.PI),ut(e,t.width/2,5,Math.PI/2)}function ut(e,t,i,n){e.beginPath(),e.moveTo(t,i);const l=10;e.lineTo(t+l*Math.cos(n-Math.PI/6),i+l*Math.sin(n-Math.PI/6)),e.lineTo(t+l*Math.cos(n+Math.PI/6),i+l*Math.sin(n+Math.PI/6)),e.lineTo(t,i),e.fillStyle="black",e.fill()}function qt(e,t,i){const n=i*q,l=et(t),a="rgba(128, 128, 128, 0.5)";e.fillStyle=a,e.beginPath(),e.arc(l.x,l.y,n,0,Math.PI*2),e.fill(),e.fillStyle=a,e.fillRect(l.x,l.y-2*n,2*n,2*n),e.fillStyle=a,e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(l.x,l.y+2*n),e.lineTo(l.x-2*n,l.y),e.closePath(),e.fill()}function Dt(e,t,i){const n="red";e.fillStyle=n;const a=At(i,t);e.fillRect(a.x-10/2,a.y-10/2,10,10)}function At(e,t){const i=et(t);return{x:e.x*q+i.x,y:-e.y*q+i.y}}function Lt(e,t){const i=et(t);return{x:(e.x-i.x)/q,y:-(e.y-i.y)/q}}function Xt(e,t,i){let{point:n={x:0,y:0}}=t,{radius:l=1}=t,a,s;pt(()=>{const o=document.getElementById("canvas");i(0,n=Lt(et(o),o)),ot(l,n)});function r(){s=this.clientHeight,a=this.clientWidth,i(3,s),i(2,a)}function u(o){l=o,i(1,l)}function d(o){n=o,i(0,n)}return e.$$set=o=>{"point"in o&&i(0,n=o.point),"radius"in o&&i(1,l=o.radius)},e.$$.update=()=>{e.$$.dirty&3&&ot(l,n)},[n,l,a,s,r,u,d]}class Yt extends G{constructor(t){super(),J(this,t,Xt,St,F,{point:0,radius:1})}}function dt(e,t,i){const n=e.slice();return n[1]=t[i],n}function ht(e){let t,i,n=e[1].point.x+"",l,a,s,r=e[1].point.y+"",u,d,o,p=e[1].collied+"",h,g,E,v=e[1].graphRadius+"",k,_,b,R=ct(e[1].checkedAt)+"",M,w;return{c(){t=y("tr"),i=y("td"),l=A(n),a=z(),s=y("td"),u=A(r),d=z(),o=y("td"),h=A(p),g=z(),E=y("td"),k=A(v),_=z(),b=y("td"),M=A(R),w=z(),this.h()},l(C){t=P(C,"TR",{class:!0});var m=I(t);i=P(m,"TD",{class:!0});var V=I(i);l=L(V,n),V.forEach(T),a=S(m),s=P(m,"TD",{class:!0});var nt=I(s);u=L(nt,r),nt.forEach(T),d=S(m),o=P(m,"TD",{class:!0});var st=I(o);h=L(st,p),st.forEach(T),g=S(m),E=P(m,"TD",{class:!0});var lt=I(E);k=L(lt,v),lt.forEach(T),_=S(m),b=P(m,"TD",{class:!0});var at=I(b);M=L(at,R),at.forEach(T),w=S(m),m.forEach(T),this.h()},h(){f(i,"class","svelte-1wqiz8k"),f(s,"class","svelte-1wqiz8k"),f(o,"class","svelte-1wqiz8k"),f(E,"class","svelte-1wqiz8k"),f(b,"class","svelte-1wqiz8k"),f(t,"class","row")},m(C,m){D(C,t,m),c(t,i),c(i,l),c(t,a),c(t,s),c(s,u),c(t,d),c(t,o),c(o,h),c(t,g),c(t,E),c(E,k),c(t,_),c(t,b),c(b,M),c(t,w)},p(C,m){m&1&&n!==(n=C[1].point.x+"")&&X(l,n),m&1&&r!==(r=C[1].point.y+"")&&X(u,r),m&1&&p!==(p=C[1].collied+"")&&X(h,p),m&1&&v!==(v=C[1].graphRadius+"")&&X(k,v),m&1&&R!==(R=ct(C[1].checkedAt)+"")&&X(M,R)},d(C){C&&T(t)}}}function Ut(e){let t,i,n='<th class="svelte-1wqiz8k">X</th> <th class="svelte-1wqiz8k">Y</th> <th class="svelte-1wqiz8k">Collied</th> <th class="svelte-1wqiz8k">Radius</th> <th class="svelte-1wqiz8k">Time</th>',l,a=rt(e[0]),s=[];for(let r=0;r<a.length;r+=1)s[r]=ht(dt(e,a,r));return{c(){t=y("table"),i=y("tr"),i.innerHTML=n,l=z();for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){t=P(r,"TABLE",{class:!0});var u=I(t);i=P(u,"TR",{"data-svelte-h":!0}),O(i)!=="svelte-3tzoyf"&&(i.innerHTML=n),l=S(u);for(let d=0;d<s.length;d+=1)s[d].l(u);u.forEach(T),this.h()},h(){f(t,"class","results svelte-1wqiz8k")},m(r,u){D(r,t,u),c(t,i),c(t,l);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null)},p(r,[u]){if(u&1){a=rt(r[0]);let d;for(d=0;d<a.length;d+=1){const o=dt(r,a,d);s[d]?s[d].p(o,u):(s[d]=ht(o),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}},i:U,o:U,d(r){r&&T(t),bt(s,r)}}}function ct(e){const[t,i]=e.split("T");return`${t} ${i.slice(0,8)} UTC`}function Vt(e,t,i){let{collisions:n=[]}=t;return e.$$set=l=>{"collisions"in l&&i(0,n=l.collisions)},[n]}class Bt extends G{constructor(t){super(),J(this,t,Vt,Ut,F,{collisions:0})}}function jt(e){let t,i,n,l,a,s,r,u,d="Click Me",o,p,h,g,E,v;function k(w){e[4](w)}function _(w){e[5](w)}let b={};e[1]!==void 0&&(b.point=e[1]),e[2]!==void 0&&(b.radius=e[2]),l=new Yt({props:b}),B.push(()=>N(l,"point",k)),B.push(()=>N(l,"radius",_));function R(w){e[7](w)}let M={};return e[0]!==void 0&&(M.collisions=e[0]),p=new Bt({props:M}),B.push(()=>N(p,"collisions",R)),{c(){t=y("meta"),i=z(),n=y("div"),K(l.$$.fragment),r=z(),u=y("button"),u.textContent=d,o=z(),K(p.$$.fragment),this.h()},l(w){const C=wt("svelte-1lnb9z",document.head);t=P(C,"META",{name:!0,content:!0}),C.forEach(T),i=S(w),n=P(w,"DIV",{class:!0});var m=I(n);Q(l.$$.fragment,m),r=S(m),u=P(m,"BUTTON",{"data-svelte-h":!0}),O(u)!=="svelte-l25a0i"&&(u.textContent=d),o=S(m),Q(p.$$.fragment,m),m.forEach(T),this.h()},h(){document.title="Web Lab 1",f(t,"name","description"),f(t,"content","Web Lab 1"),f(n,"class","wrapper svelte-138mt5c")},m(w,C){c(document.head,t),D(w,i,C),D(w,n,C),Z(l,n,null),c(n,r),c(n,u),c(n,o),Z(p,n,null),g=!0,E||(v=H(u,"click",e[6]),E=!0)},p(w,[C]){const m={};!a&&C&2&&(a=!0,m.point=w[1],j(()=>a=!1)),!s&&C&4&&(s=!0,m.radius=w[2],j(()=>s=!1)),l.$set(m);const V={};!h&&C&1&&(h=!0,V.collisions=w[0],j(()=>h=!1)),p.$set(V)},i(w){g||($(l.$$.fragment,w),$(p.$$.fragment,w),g=!0)},o(w){x(l.$$.fragment,w),x(p.$$.fragment,w),g=!1},d(w){w&&(T(i),T(n)),T(t),tt(l),tt(p),E=!1,v()}}}function Nt(e,t,i){const n=new Pt("");let l,a,s;async function r(g,E){const v=await n.addPoint(g,E);v&&l.push(v)}async function u(){const g=await n.getCollisions();i(0,l=g||[])}pt(u);function d(g){a=g,i(1,a)}function o(g){s=g,i(2,s)}const p=async()=>await r(a,s);function h(g){l=g,i(0,l)}return[l,a,s,r,d,o,p,h]}class Gt extends G{constructor(t){super(),J(this,t,Nt,jt,F,{})}}export{Gt as component,Ft as universal};
